[tox]
minversion = 1.6
skipsdist = True

[testenv]
usedevelop = False
install_command = pip install {opts} {packages}

[testenv:docs]
deps = -r{toxinidir}/requirements.txt
whitelist_externals = bash
setenv =
  TOP_DIR={toxinidir}
  INSTALL_SHOCCO=true
commands = 
	python setup.py build_sphinx

[testenv:libcloud]
deps = -r{toxinidir}/requirements.txt
whitelist_externals = bash
setenv =
  TOP_DIR={toxinidir}
  INSTALL_SHOCCO=true
commands =
	sphinx-build -t libcloud -b html -d doc/build/doctrees doc/source doc/build/html


[testenv:jclouds]
deps = -r{toxinidir}/requirements.txt
whitelist_externals = bash
setenv =
  TOP_DIR={toxinidir}
  INSTALL_SHOCCO=true
commands =
	sphinx-build -t jclouds -b html -d doc/build/doctrees doc/source doc/build/html

[testenv:fog]
deps = -r{toxinidir}/requirements.txt
whitelist_externals = bash
setenv =
  TOP_DIR={toxinidir}
  INSTALL_SHOCCO=true
commands =
	sphinx-build -t fog -b html -d doc/build/doctrees doc/source doc/build/html

[testenv:dotnet]
deps = -r{toxinidir}/requirements.txt
whitelist_externals = bash
setenv =
  TOP_DIR={toxinidir}
  INSTALL_SHOCCO=true
commands =
	sphinx-build -t dotnet -b html -d doc/build/doctrees doc/source doc/build/html

[testenv:node]
deps = -r{toxinidir}/requirements.txt
whitelist_externals = bash
setenv =
  TOP_DIR={toxinidir}
  INSTALL_SHOCCO=true
commands =
	sphinx-build -t node -b html -d doc/build/doctrees doc/source doc/build/html

[testenv:openstacksdk]
deps = -r{toxinidir}/requirements.txt
whitelist_externals = bash
setenv =
  TOP_DIR={toxinidir}
  INSTALL_SHOCCO=true
commands =
	sphinx-build -t openstacksdk -b html -d doc/build/doctrees doc/source doc/build/html
